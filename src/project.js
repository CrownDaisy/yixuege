require=function e(t,n,c){function o(i,r){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!r&&s)return s(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){var n=t[i][1][e];return o(n||e)},u,u.exports,e,t,n,c)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<c.length;i++)o(c[i]);return o}({FirstScene:[function(e,t,n){"use strict";cc._RF.push(t,"b4e3cSCCMNMarJgzPgTA6Vz","FirstScene"),cc.Class({extends:cc.Component,properties:{FirstButton:{default:null,type:cc.Button}},onLoad:function(){this.FirstButton.node.on(cc.Node.EventType.TOUCH_START,function(e){cc.director.loadScene("MainScene")},this)}}),cc._RF.pop()},{}],MainScene:[function(e,t,n){"use strict";cc._RF.push(t,"6350dLZZQ5BhaIoAtQUm/1n","MainScene");var c=e("PublicVariable");cc.Class({extends:cc.Component,properties:{firstButton:{default:null,type:cc.Button},secondButton:{default:null,type:cc.Button},thirdButton:{default:null,type:cc.Button},audioSource:{default:null,type:cc.AudioSource}},onLoad:function(){this.firstButton.node.on(cc.Node.EventType.TOUCH_START,function(e){c.jsonFile="mysun",cc.director.loadScene("PlayerScene"),this.audioSource.play()},this),this.secondButton.node.on(cc.Node.EventType.TOUCH_START,function(e){c.jsonFile="mylove",cc.director.loadScene("PlayerScene"),this.audioSource.play()},this)}}),cc._RF.pop()},{PublicVariable:"PublicVariable"}],NetworkUtils:[function(e,t,n){"use strict";cc._RF.push(t,"74cd72zitdKIrpoLmxZ7dKF","NetworkUtils"),t.exports={urlBase:"http://111.230.96.75/",send:function(e,t,n,c){var o="";if(t)for(var a in t)""===o?o=a+"="+t[a]:o+="&"+a+"="+t[a];var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&i.status>=200&&i.status<400?n&&n(i.responseText):c&&c(i.responseText)},i.open("POST",this.urlBase+e,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),i.send(o)},loadImage:function(e,t,n,c){var o;o=null!=t?{url:this.urlBase+e,type:t}:this.urlBase+e,cc.loader.load(o,function(e,t){e&&c(e),null!=t&&n(t)})},loadMusic:function(e,t,n,c){var o;o=null!=t?{url:this.urlBase+e,type:t}:this.urlBase+e,cc.loader.load(o,function(e,t){e&&c(e),null!=t&&n(t)})}},cc._RF.pop()},{}],NoteAndLyric:[function(e,t,n){"use strict";cc._RF.push(t,"c3671hB8mtNWbm8glxA0soa","NoteAndLyric"),cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.Node},NoteSprite:{default:null,type:cc.Prefab},Minim:{default:null,type:cc.Prefab},UnderLineOne:{default:null,type:cc.Prefab},UnderLineTwo:{default:null,type:cc.Prefab},lyric:{default:null,type:cc.Label}},songData:null,getData:function(e){var t=cc.instantiate(this.NoteSprite),n=cc.instantiate(this.Minim);this.setNoteSprite(e.noteBeat,t,n),t.setPosition(this.setNotePosition(e.midi,t)),n.setPosition(this.setNotePosition(e.midi,n)),this.lyric.string=e.lyric},setNoteSprite:function(e,t,n){2==e?this.content.addChild(n):this.content.addChild(t)},setNotePosition:function(e,t){var n=0,c=0,o=0;switch(e){case 60:n=-50,c=3,o=1;break;case 62:n=-45,c=3,o=1;break;case 63:n=-42.5;break;case 64:n=-40,c=2,o=1;break;case 65:n=-35,c=2,o=1;break;case 66:n=-32.5;break;case 67:n=-30,c=2,o=1;break;case 68:n=-27.5;break;case 69:n=-25,c=1,o=1;break;case 70:n=-22.5;break;case 72:n=-15,c=1,o=2;break;case 74:n=-10;break;case 75:n=-7.5;break;case 77:n=0;break;case 78:n=2.5;break;case 79:n=5;break;case 81:n=10;break;case 83:n=15;break;case 84:n=20;break;case 86:n=25;break;case 88:n=30;break;case 89:n=35,c=1,o=2;break;case 91:n=40,c=1,o=2;break;case 93:n=45,c=2,o=2;break;case 95:n=50,c=2,o=2;break;default:console.log("Midi Data Handling Error!")}return 0!=o&&this.addUnderline(c,t,o),cc.p(0,n)},addUnderline:function(e,t,n){var c=cc.instantiate(this.UnderLineOne),o=cc.instantiate(this.UnderLineTwo);switch(e){case 1:t.addChild(c);break;case 2:t.addChild(o);break;default:console.log("Midi Data Handling Error!")}}}),cc._RF.pop()},{}],NoteUnderline:[function(e,t,n){"use strict";cc._RF.push(t,"7964fvq2j9A34ba+Q1WcUY3","NoteUnderline"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],Part:[function(e,t,n){"use strict";cc._RF.push(t,"956b6EiC/5C95QWfnOOE5ZD","Part"),cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.Node},Dot:{default:null,type:cc.Prefab},Connect:{default:null,type:cc.Prefab},NoteAndLyric:{default:null,type:cc.Prefab},Part:{default:null,type:cc.Prefab}},songData:null,noteAndLyric:null,getSongData:function(e,t){var n=cc.instantiate(this.NoteAndLyric),c=n.getComponent("NoteAndLyric");this.content.addChild(n),c.getData(e),n.width=this.setWidth(t)},setWidth:function(e){return 180/e}}),cc._RF.pop()},{}],PlayerScene:[function(e,t,n){"use strict";cc._RF.push(t,"18cbbIjWFJGt73DfmLIPhs5","PlayerScene");var c=e("PublicVariable");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.Node},Space:{default:null,type:cc.Prefab},StaffScrollView:{default:null,type:cc.ScrollView},Staff:{default:null,type:cc.Prefab},audioSource:{default:null,type:cc.AudioSource},AccSource:{default:null,type:cc.AudioSource},DemoSource:{default:null,type:cc.AudioSource},label:{type:cc.Label,default:null},PlayButton:{type:cc.Button,default:null},PauseButton:{type:cc.Button,default:null},ResumeButton:{type:cc.Button,default:null},ListButton:{type:cc.Button,default:null},SongName:{type:cc.Label,default:null}},songData:null,onLoad:function(){var e=this,t=e.content,n=e.audioSource,o=t.getPosition().y;console.log(o);var a=0,i="";n.isPlaying||n.play(),e.StaffScrollView.inertia=!1,0!=c.contentPosition&&(c.contentPostition=0),e.StaffScrollView.node.on(cc.Node.EventType.TOUCH_START,function(c){n.isPlaying&&(a=t.getPosition().y,console.log("positionY is :"+t.getPosition()),e.pause())},this),e.StaffScrollView.node.on(cc.Node.EventType.TOUCH_END,function(o){var i=(t.getPosition().y-a)/c.playSpeed;(i+=c.currentTime)<=0?(i=.1,n.isPlaying||(n.setCurrentTime(0),e.play())):(n.setCurrentTime(i),console.log("ended position is:"+t.getPosition()),e.resume())},this),e.ListButton.node.on(cc.Node.EventType.TOUCH_START,function(e){cc.director.loadScene("MainScene")}),cc.loader.loadRes(c.jsonFile,function(n,o){c.staffNum=4,i=o.songName;o.beatTime,o.perPartBeat,new Array;t.setPosition(cc.p(0,-610));for(var a=0;a<2;a+=1){var r=cc.instantiate(e.Space);e.StaffScrollView.content.addChild(r)}e.SongName.string=i+"",console.log(i);for(a=0;a<o.part.length;a+=2){c.staffNum+=1;var s=cc.instantiate(e.Staff);s.getComponent("Staff").setSongData(o.part,a),e.StaffScrollView.content.addChild(s)}for(a=0;a<2;a+=1){r=cc.instantiate(e.Space);e.StaffScrollView.content.addChild(r)}})},update:function(){var e=this.audioSource,t=this.content,n=e.getCurrentTime();c.currentTime=n;var o=e.getDuration();c.playSpeed=(160*c.staffNum-960+290)/o,null!=e&&e.isPlaying&&(this.label.string=e.getCurrentTime().toFixed(1)+" s / "+e.getDuration().toFixed(1)+" s",n!=o&&0!=c.staffNum&&t.setPosition(cc.p(0,n*c.playSpeed-610)))},play:function(){this.audioSource.play()},pause:function(){this.audioSource.pause()},stop:function(){this.audioSource.stop()},resume:function(){this.audioSource.resume()},original:function(){this.audioSource.play(),this.DemoSource.stop(),this.AccSource.stop()},acc:function(){this.AccSource.play(),this.audioSource.stop(),this.DemoSource.stop()},demon:function(){this.DemoSource.play(),this.audioSource.stop(),this.AccSource.stop()}}),cc._RF.pop()},{PublicVariable:"PublicVariable"}],PublicVariable:[function(e,t,n){"use strict";cc._RF.push(t,"f1690og1btFwZtAFw6WRSl5","PublicVariable"),t.exports={staffNum:0,currentTime:0,dbPosition:0,playSpeed:0,durationTime:0,positionX:0,positionY:0,jsonFile:null,AccFlag:0,DemoFlag:0,OriginalFlag:0},cc._RF.pop()},{}],Staff:[function(e,t,n){"use strict";cc._RF.push(t,"861d75ys0FJvYxnyLr1Y17k","Staff"),cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.Node},Part:{default:null,type:cc.Prefab},Flag:{default:null,type:cc.Prefab}},songData:null,startIndex:0,setSongData:function(e,t){for(var n=t;n<t+2;n++){var c=cc.instantiate(this.Part),o=c.getComponent("Part");if(this.content.addChild(c),n==t){var a=cc.instantiate(this.Flag);this.content.addChild(a)}for(var i=e[n].length,r=0;r<e[n].length;r++)o.getSongData(e[n][r],i)}}}),cc._RF.pop()},{}]},{},["NetworkUtils","PublicVariable","NoteAndLyric","NoteUnderline","Part","Staff","FirstScene","MainScene","PlayerScene"]);